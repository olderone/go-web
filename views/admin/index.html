<!DOCTYPE html>
<html lang="en">
<head>
   	<title>{{.WebName}}</title>
	<!-- 引入样式 -->
	<link rel="stylesheet" href="/static/css/bootstrap.min.css">
	<!-- 引入组件库 -->
	<script src="/static/js/jquery-3.3.1.min.js"></script>
	<script src="/static/js/bootstrap.min.js"></script>
	<script src="/static/js/vue.js"></script>
	
	<style>
		a{cursor:pointer;text-decoration:none;}
		.onep{width:5.5%;}
	</style>
</head>
<body class="no-skin">
	<div id="app">
		<div id="header">
			<nav class="navbar navbar-default">
				<div class="container-fluid">
				    <!-- Brand and toggle get grouped for better mobile display -->
				    <div class="navbar-header">
				      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
				        <span class="sr-only">Toggle navigation</span>
				        <span class="icon-bar"></span>
				        <span class="icon-bar"></span>
				        <span class="icon-bar"></span>
				      </button>
				      <a class="navbar-brand" href="#">首页</a>
				    </div>
				
				    <!-- Collect the nav links, forms, and other content for toggling -->
				    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				      <ul class="nav navbar-nav">
				        
				        <li class="dropdown">
				          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">业务模块管理 <span class="caret"></span></a>
				          <ul class="dropdown-menu">
				            <li><a href="#">医院导诊模块</a></li>
				     
				            <li role="separator" class="divider"></li>
				            <li><a href="#">石油化工模块</a></li>
				            <li role="separator" class="divider"></li>
				            <li><a href="#">购物中心模块</a></li>
				          </ul>
				        </li>
						<li class="dropdown">
				          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">公共管理 <span class="caret"></span></a>
				          <ul class="dropdown-menu">
				            <li><a href="#">地图设备数据</a></li>
				     		           
				          </ul>
				        </li>
						<li class="dropdown">
				          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">产品管理 <span class="caret"></span></a>
				          <ul class="dropdown-menu">
				            <li><a href="#">光想指南</a></li>
				     
				            <li role="separator" class="divider"></li>
				            <li><a href="#">光享导诊</a></li>
				            <li role="separator" class="divider"></li>
				            <li><a href="#">SDK管理</a></li>
				          </ul>
				        </li>
						
				      </ul>
				      <form class="navbar-form navbar-left">
				        <div class="form-group">
				          <input type="text" v-model="name" class="form-control" placeholder="Search">
				        </div>
				        <button type="submit" class="btn btn-default"> ${search}</button>
				      </form>
				      <ul class="nav navbar-nav navbar-right">
				        <li><a href="#">Link</a></li>
				        <li class="dropdown">
				          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
				          <ul class="dropdown-menu">
				            <li><a href="#">Action</a></li>
				            <li><a href="#">Another action</a></li>
				            <li><a href="#">Something else here</a></li>
				            <li role="separator" class="divider"></li>
				            <li><a href="#">Separated link</a></li>
				          </ul>
				        </li>
				      </ul>
				    </div><!-- /.navbar-collapse -->
				</div><!-- /.container-fluid -->
			</nav>
		</div>
		<div id="main">
			<div>
				<!-- <div id="resText"></div>-->
			</div>
			<div style="width:60%;margin-left:15px;float:left;">

				<table style="width:100%;">
                  <tr>
                    <th class="twop">序号</th>
                    <th class="twop">园区名称</th>
                    <th class="twop">地址</th>
                    <th class="twop">地图名称</th>
                    <th class="twop">地图包大小</th>
                    <th class="twop">经度</th>
                    <th class="twop">纬度</th>
                    <th class="thrp">操作</th>
                  </tr>
                  <tr v-for="(base,index) in parkList" style="height:40px;line-height:40px;">
                    <td>${index+1}</td>
                    <td>${base.Name}</td>
                    <td>${base.Addr}</td>
                    <td>${base.MapName}</td>
                    <td>${base.MapSize}</td>
                    <td>${base.Lon}</td>
                    <td>${base.Lat}</td>
                    <td>
                      <a @click="startOneImg(base)" type="text" size="small">编辑</a>
                      <a @click="deleteOneImg(base)" type="text" size="small">删除</a>
                    </td>
                  </tr>
                </table>
			</div>
			<div style="width:100%;margin-left:15px;float:left;margin-top:15px;">
				<p></p>
				<table style="width:100%;">
                  <tr>
                    <th class="onep">序号</th>
                    <th class="onep">名称</th>
                    <th class="onep">FID</th>
                    <th class="onep">MapNo</th>
                    <th class="onep">Type</th>
                    <th class="onep">Floor</th>
                    <th class="onep">Room</th>
                    <th class="onep">OrgZoom</th>
                    <th class="onep">OrgNo</th>
                    <th class="onep">OrgName</th>
                    <th class="onep">ParkZoom</th>
                    <th class="onep">Height</th>
                    <th class="onep">X</th>
                    <th class="onep">Y</th>
                    <th class="onep">面积</th>
                    <th>图片</th>
                    <th class="onep">操作</th>
                  </tr>
                  <tr v-for="(base,index) in extraimg" style="height:40px;line-height:40px;">
                    <td>${index+1}</td>
                    <td>${base.Name}</td>
                    <td>${base.Fid}</td>
                    <td>${base.MapNo}</td>
                    <td>${base.Type}</td>
                    <td>${base.Floor}</td>
                    <td>${base.Room}</td>
                    <td>${base.OrgZoom}</td>
                    <td>${base.OrgNo}</td>
                    <td>${base.OrgName}</td>
                    <td>${base.ParkZoom}</td>
                    <td>${base.Height}</td>
                    <td>${base.X}</td>
                    <td>${base.Y}</td>
                    <td>${base.Area}</td>
                    <td><img style="width:50%;" :src="base.Url" /></td>
                    <td>
                      <a @click="startOneImg(base)" type="text" size="small">编辑</a>
                      <a @click="deleteOneImg(base)" type="text" size="small">删除</a>
                    </td>
                  </tr>
                </table>
			</div>
		</div>
	</div>	
</body>
<script type="text/javascript">

var vue = new Vue(
{
	delimiters: ['${', '}'],
    el: '#app',
    data:
    {
       	search:'搜索',
		name:'',
		parkList:{},
		extraimg:{},
    },
    mounted()
    {
      this.getParkList()
      this.getParkOne()
      this.getInsPak()
      this.getExtraImg()
      this.getCityList()
    },
    methods:
    {
		getParkList(){
			let _this = this
			$.ajax({
	            type: "POST",
	            url: "/api/v1/hospList",
	            data: {name:_this.name},
	            dataType: "json",
				async:true,	//是否异步
	            success: function(data){
				  _this.parkList = data
                   $('#resText').empty();   //清空resText里面的所有内容
                   var html = '<div style="color:red;"><h1>' + data
                                   + '</h1><p class="para">' + data+ '</p></div>'; 
                   //$.each(data, function(commentIndex, comment){
                     //    html += '<div class="comment"><h6>' + comment['username']
                       //            + ':</h6><p class="para"' + comment['content']
                         //          + '</p></div>';
                  // });
                   $('#resText').html(html);
                }
         	});
		},
		
		getParkOne(){
			let _this = this
			$.ajax({
	            type: "POST",
	            url: "/admin/park/GetOnePark",
	            data: {id:1},
	            dataType: "json",
				async:true,	//是否异步
	            success: function(data){
                   $('#resText').empty();   //清空resText里面的所有内容
                   var html = '<div style="color:red;"><h1>' + data
                                   + '</h1><p class="para">' + data+ '</p></div>'; 
                   //$.each(data, function(commentIndex, comment){
                     //    html += '<div class="comment"><h6>' + comment['username']
                       //            + ':</h6><p class="para"' + comment['content']
                         //          + '</p></div>';
                  // });
                   $('#resText').html(html);
                }
         	});
		},
		
		getInsPak(){
			let _this = this
			$.ajax({
	            type: "POST",
	            url: "/api/v1/hospInstallPack",
	            data: {appver:'0.8'},
	            dataType: "json",
				async:true,	//是否异步
	            success: function(data){
                   $('#resText').empty();   //清空resText里面的所有内容
                   var html = '<div style="color:red;"><h1>' + data
                                   + '</h1><p class="para">' + data+ '</p></div>'; 
                   //$.each(data, function(commentIndex, comment){
                     //    html += '<div class="comment"><h6>' + comment['username']
                       //            + ':</h6><p class="para"' + comment['content']
                         //          + '</p></div>';
                  // });
                   $('#resText').html(html);
                }
         	});
		},
		
		getExtraImg(){
			let _this = this
			$.ajax({
	            type: "POST",
	            url: "/api/v1/hospExtraImg",
	            data: {hospNo:147457},
	            dataType: "json",
				async:true,	//是否异步
	            success: function(data){
					_this.extraimg = data.data
                   $('#resText').empty();   //清空resText里面的所有内容
                   var html = '<div style="color:red;"><h1>' + data
                                   + '</h1><p class="para">' + data+ '</p></div>'; 
                   //$.each(data, function(commentIndex, comment){
                     //    html += '<div class="comment"><h6>' + comment['username']
                       //            + ':</h6><p class="para"' + comment['content']
                         //          + '</p></div>';
                  // });
                   $('#resText').html(html);
                }
         	});
		},
		
		getCityList(){
			let _this = this
			$.ajax({
	            type: "POST",
	            url: "/api/v1/getCityList",
	            data: {hospNo:147457},
	            dataType: "json",
				async:true,	//是否异步
	            success: function(data){
					
                   $('#resText').empty();   //清空resText里面的所有内容
                   var html = '<div style="color:red;"><h1>' + data
                                   + '</h1><p class="para">' + data+ '</p></div>'; 
                   //$.each(data, function(commentIndex, comment){
                     //    html += '<div class="comment"><h6>' + comment['username']
                       //            + ':</h6><p class="para"' + comment['content']
                         //          + '</p></div>';
                  // });
                   $('#resText').html(html);
                }
         	});
		},
		
		startOneImg(){
			
		},
		
		deleteOneImg(){
			
		},
       
    }
});
</script>
</html>
